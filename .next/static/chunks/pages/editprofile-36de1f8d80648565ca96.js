(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[242],{6194:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return le}});var r=a(5861),s=a(7757),n=a.n(s),o=a(7294),l=a(2861),i=a(4036),c=a.n(i),d=a(5697),u=a.n(d),f=a(5893);const p={type:u().string,tooltip:u().bool,as:u().elementType},m=o.forwardRef((({as:e="div",className:t,type:a="valid",tooltip:r=!1,...s},n)=>(0,f.jsx)(e,{...s,ref:n,className:c()(t,`${a}-${r?"tooltip":"feedback"}`)})));m.displayName="Feedback",m.propTypes=p;var b=m;var x=o.createContext({});const g=["xxl","xl","lg","md","sm","xs"],h=o.createContext({prefixes:{},breakpoints:g,minBreakpoint:"xs"}),{Consumer:v,Provider:y}=h;function j(e,t){const{prefixes:a}=(0,o.useContext)(h);return e||a[t]||t}const N=o.forwardRef((({id:e,bsPrefix:t,className:a,type:r="checkbox",isValid:s=!1,isInvalid:n=!1,as:l="input",...i},d)=>{const{controlId:u}=(0,o.useContext)(x);return t=j(t,"form-check-input"),(0,f.jsx)(l,{...i,ref:d,type:r,id:e||u,className:c()(a,t,s&&"is-valid",n&&"is-invalid")})}));N.displayName="FormCheckInput";var w=N;const C=o.forwardRef((({bsPrefix:e,className:t,htmlFor:a,...r},s)=>{const{controlId:n}=(0,o.useContext)(x);return e=j(e,"form-check-label"),(0,f.jsx)("label",{...r,ref:s,htmlFor:a||n,className:c()(t,e)})}));C.displayName="FormCheckLabel";var O=C;const P=o.forwardRef((({id:e,bsPrefix:t,bsSwitchPrefix:a,inline:r=!1,reverse:s=!1,disabled:n=!1,isValid:l=!1,isInvalid:i=!1,feedbackTooltip:d=!1,feedback:u,feedbackType:p,className:m,style:g,title:h="",type:v="checkbox",label:y,children:N,as:C="input",...P},k)=>{t=j(t,"form-check"),a=j(a,"form-switch");const{controlId:_}=(0,o.useContext)(x),I=(0,o.useMemo)((()=>({controlId:e||_})),[_,e]),E=!N&&null!=y&&!1!==y||function(e,t){return o.Children.toArray(e).some((e=>o.isValidElement(e)&&e.type===t))}(N,O),S=(0,f.jsx)(w,{...P,type:"switch"===v?"checkbox":v,ref:k,isValid:l,isInvalid:i,disabled:n,as:C});return(0,f.jsx)(x.Provider,{value:I,children:(0,f.jsx)("div",{style:g,className:c()(m,E&&t,r&&`${t}-inline`,s&&`${t}-reverse`,"switch"===v&&a),children:N||(0,f.jsxs)(f.Fragment,{children:[S,E&&(0,f.jsx)(O,{title:h,children:y}),u&&(0,f.jsx)(b,{type:p,tooltip:d,children:u})]})})})}));P.displayName="FormCheck";var k=Object.assign(P,{Input:w,Label:O});a(2473);const _=o.forwardRef((({bsPrefix:e,type:t,size:a,htmlSize:r,id:s,className:n,isValid:l=!1,isInvalid:i=!1,plaintext:d,readOnly:u,as:p="input",...m},b)=>{const{controlId:g}=(0,o.useContext)(x);let h;return e=j(e,"form-control"),h=d?{[`${e}-plaintext`]:!0}:{[e]:!0,[`${e}-${a}`]:a},(0,f.jsx)(p,{...m,type:t,size:r,ref:b,readOnly:u,id:s||g,className:c()(n,h,l&&"is-valid",i&&"is-invalid","color"===t&&`${e}-color`)})}));_.displayName="FormControl";var I=Object.assign(_,{Feedback:b}),E=/-(.)/g;const S=e=>{return e[0].toUpperCase()+(t=e,t.replace(E,(function(e,t){return t.toUpperCase()}))).slice(1);var t};var R=function(e,{displayName:t=S(e),Component:a,defaultProps:r}={}){const s=o.forwardRef((({className:t,bsPrefix:s,as:n=a||"div",...o},l)=>{const i={...r,...o},d=j(s,e);return(0,f.jsx)(n,{ref:l,className:c()(t,d),...i})}));return s.displayName=t,s}("form-floating");const $=o.forwardRef((({controlId:e,as:t="div",...a},r)=>{const s=(0,o.useMemo)((()=>({controlId:e})),[e]);return(0,f.jsx)(x.Provider,{value:s,children:(0,f.jsx)(t,{...a,ref:r})})}));$.displayName="FormGroup";var F=$;function T({as:e,bsPrefix:t,className:a,...r}){t=j(t,"col");const s=function(){const{breakpoints:e}=(0,o.useContext)(h);return e}(),n=function(){const{minBreakpoint:e}=(0,o.useContext)(h);return e}(),l=[],i=[];return s.forEach((e=>{const a=r[e];let s,o,c;delete r[e],"object"===typeof a&&null!=a?({span:s,offset:o,order:c}=a):s=a;const d=e!==n?`-${e}`:"";s&&l.push(!0===s?`${t}${d}`:`${t}${d}-${s}`),null!=c&&i.push(`order${d}-${c}`),null!=o&&i.push(`offset${d}-${o}`)})),[{...r,className:c()(a,...l,...i)},{as:e,bsPrefix:t,spans:l}]}const L=o.forwardRef(((e,t)=>{const[{className:a,...r},{as:s="div",bsPrefix:n,spans:o}]=T(e);return(0,f.jsx)(s,{...r,ref:t,className:c()(a,!o.length&&n)})}));L.displayName="Col";var D=L;const A=o.forwardRef((({as:e="label",bsPrefix:t,column:a=!1,visuallyHidden:r=!1,className:s,htmlFor:n,...l},i)=>{const{controlId:d}=(0,o.useContext)(x);t=j(t,"form-label");let u="col-form-label";"string"===typeof a&&(u=`${u} ${u}-${a}`);const p=c()(s,t,r&&"visually-hidden",a&&u);return n=n||d,a?(0,f.jsx)(D,{ref:i,as:"label",className:p,htmlFor:n,...l}):(0,f.jsx)(e,{ref:i,className:p,htmlFor:n,...l})}));A.displayName="FormLabel";var Z=A;const z=o.forwardRef((({bsPrefix:e,className:t,id:a,...r},s)=>{const{controlId:n}=(0,o.useContext)(x);return e=j(e,"form-range"),(0,f.jsx)("input",{...r,type:"range",ref:s,className:c()(t,e),id:a||n})}));z.displayName="FormRange";var B=z;const U=o.forwardRef((({bsPrefix:e,size:t,htmlSize:a,className:r,isValid:s=!1,isInvalid:n=!1,id:l,...i},d)=>{const{controlId:u}=(0,o.useContext)(x);return e=j(e,"form-select"),(0,f.jsx)("select",{...i,size:a,ref:d,className:c()(r,e,t&&`${e}-${t}`,s&&"is-valid",n&&"is-invalid"),id:l||u})}));U.displayName="FormSelect";var M=U;const V=o.forwardRef((({bsPrefix:e,className:t,as:a="small",muted:r,...s},n)=>(e=j(e,"form-text"),(0,f.jsx)(a,{...s,ref:n,className:c()(t,e,r&&"text-muted")}))));V.displayName="FormText";var G=V;const H=o.forwardRef(((e,t)=>(0,f.jsx)(k,{...e,ref:t,type:"switch"})));H.displayName="Switch";var K=Object.assign(H,{Input:k.Input,Label:k.Label});const X=o.forwardRef((({bsPrefix:e,className:t,children:a,controlId:r,label:s,...n},o)=>(e=j(e,"form-floating"),(0,f.jsxs)(F,{ref:o,className:c()(t,e),controlId:r,...n,children:[a,(0,f.jsx)("label",{htmlFor:r,children:s})]}))));X.displayName="FloatingLabel";var J=X;const Q={_ref:u().any,validated:u().bool,as:u().elementType},W=o.forwardRef((({className:e,validated:t,as:a="form",...r},s)=>(0,f.jsx)(a,{...r,ref:s,className:c()(e,t&&"was-validated")})));W.displayName="Form",W.propTypes=Q;var q=Object.assign(W,{Group:F,Control:I,Floating:R,Check:k,Switch:K,Label:Z,Text:G,Range:B,Select:M,FloatingLabel:J});const Y=["as","disabled"];function ee({tagName:e,disabled:t,href:a,target:r,rel:s,role:n,onClick:o,tabIndex:l=0,type:i}){e||(e=null!=a||null!=r||null!=s?"a":"button");const c={tagName:e};if("button"===e)return[{type:i||"button",disabled:t},c];const d=r=>{(t||"a"===e&&function(e){return!e||"#"===e.trim()}(a))&&r.preventDefault(),t?r.stopPropagation():null==o||o(r)};return"a"===e&&(a||(a="#"),t&&(a=void 0)),[{role:null!=n?n:"button",disabled:void 0,tabIndex:t?void 0:l,href:a,target:"a"===e?r:void 0,"aria-disabled":t||void 0,rel:"a"===e?s:void 0,onClick:d,onKeyDown:e=>{" "===e.key&&(e.preventDefault(),d(e))}},c]}const te=o.forwardRef(((e,t)=>{let{as:a,disabled:r}=e,s=function(e,t){if(null==e)return{};var a,r,s={},n=Object.keys(e);for(r=0;r<n.length;r++)a=n[r],t.indexOf(a)>=0||(s[a]=e[a]);return s}(e,Y);const[n,{tagName:o}]=ee(Object.assign({tagName:a,disabled:r},s));return(0,f.jsx)(o,Object.assign({},s,n,{ref:t}))}));te.displayName="Button";const ae=o.forwardRef((({as:e,bsPrefix:t,variant:a="primary",size:r,active:s=!1,disabled:n=!1,className:o,...l},i)=>{const d=j(t,"btn"),[u,{tagName:p}]=ee({tagName:e,disabled:n,...l}),m=p;return(0,f.jsx)(m,{...u,...l,ref:i,disabled:n,className:c()(o,d,s&&"active",a&&`${d}-${a}`,r&&`${d}-${r}`,l.href&&n&&"disabled")})}));ae.displayName="Button";var re=ae,se=a(3686),ne=a(4001),oe=a.n(ne),le=function(){var e=(0,o.useState)(!0),t=e[0],a=e[1],s=(0,o.useState)(""),i=s[0],c=s[1],d=(0,o.useState)("danger"),u=d[0],p=d[1],m=(0,o.useState)(""),b=m[0],x=m[1],g=(0,o.useState)(""),h=g[0],v=g[1],y=(0,o.useState)(""),j=y[0],N=y[1],w=(0,o.useState)(null),C=w[0],O=w[1],P=function(){var e=(0,r.Z)(n().mark((function e(){var t,a,r,s,o;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=localStorage.getItem("token"),a=localStorage.getItem("email"),console.log(t),console.log(a),e.prev=4,t){e.next=10;break}console.log("Not Authorized!"),window.location.replace("/login"),e.next=24;break;case 10:return e.next=12,l.Z.post("http://localhost:3005/usergame/get",{email:a},{headers:{Authorization:"Basic ".concat(t)}});case 12:return r=e.sent,console.log(r.data.data),s=r.data.data.username,x(r.data.data.id),v(r.data.data.username),N(r.data.data.email),console.log("username: ",s),e.next=21,l.Z.post("http://localhost:3005/usergame/getProfilePicUrl",{inputUsername:s},{headers:{Authorization:"Basic ".concat(t)}});case 21:o=e.sent,console.log("Profile Pic URL:",o.data.url),O(o.data.url);case 24:e.next=30;break;case 26:e.prev=26,e.t0=e.catch(4),console.log("Internal Server Error!"),window.location.replace("/login");case 30:case"end":return e.stop()}}),e,null,[[4,26]])})));return function(){return e.apply(this,arguments)}}();(0,o.useEffect)((function(){P()}),[]);var k=function(){var e=(0,r.Z)(n().mark((function e(t){var r,s;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),r=localStorage.getItem("token"),e.prev=2,e.next=5,l.Z.post("http://localhost:3005/usergame/update/profile",{id:b,username:h,email:j},{headers:{Authorization:"Basic ".concat(r)}});case 5:s=e.sent,console.log(s.data.newData.email),console.log(s.data.status),p("success"),c(s.data.status),a(!1),localStorage.setItem("email",s.data.newData.email),e.next=19;break;case 14:e.prev=14,e.t0=e.catch(2),p("danger"),c(e.t0.response.data.message),a(!1);case 19:case"end":return e.stop()}}),e,null,[[2,14]])})));return function(t){return e.apply(this,arguments)}}();return(0,f.jsxs)("div",{className:oe().EditProfileImage,children:[(0,f.jsx)("h1",{className:oe().textH1,children:"Change Profile"}),(0,f.jsx)("div",{className:oe().alertContainer,children:(0,f.jsx)(se.Z,{color:u,hidden:t,children:i})}),(0,f.jsxs)("div",{className:oe().formContainer,children:[(0,f.jsx)("div",{className:oe().imageContainer,children:(0,f.jsx)("img",{src:C,alt:"Avatar",className:"rounded-circle",width:"150"})}),(0,f.jsxs)(q,{onSubmit:function(e){e.preventDefault(),console.log("Username:",h),console.log("Email:",j)},children:[(0,f.jsxs)(q.Group,{controlId:"formBasicUsername",children:[(0,f.jsx)(q.Label,{className:oe().textLabel,children:"Username"}),(0,f.jsx)(q.Control,{type:"text",placeholder:"Enter username",value:h,onChange:function(e){return v(e.target.value)}})]}),(0,f.jsxs)(q.Group,{controlId:"formBasicEmail",children:[(0,f.jsx)(q.Label,{className:oe().textLabel,children:"Email"}),(0,f.jsx)(q.Control,{type:"email",placeholder:"Enter email",value:j,onChange:function(e){return N(e.target.value)}})]}),(0,f.jsx)("br",{}),(0,f.jsx)(re,{color:"primary",style:{width:"100%"},onClick:k,children:"Update Profile"}),(0,f.jsx)("br",{}),(0,f.jsx)("br",{}),(0,f.jsx)(re,{color:"primary",style:{width:"100%"},onClick:function(){window.location.replace("/editpassword")},children:"Change Password"}),(0,f.jsx)("br",{}),(0,f.jsx)("br",{}),(0,f.jsx)(re,{color:"primary",style:{width:"100%"},onClick:function(){window.location.replace("/gamelist")},children:"Back"})]})]})]})}},1212:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/editprofile",function(){return a(6194)}])},4001:function(e){e.exports={EditProfileImage:"editprofile_EditProfileImage__1O3El",alertContainer:"editprofile_alertContainer__1Wdd7",formContainer:"editprofile_formContainer__3EEx5",imageContainer:"editprofile_imageContainer__2wBzK",textH1:"editprofile_textH1__KuCog",textLabel:"editprofile_textLabel__38Cn4",textDescription:"editprofile_textDescription__cTPQJ"}},4036:function(e,t){var a;!function(){"use strict";var r={}.hasOwnProperty;function s(){for(var e=[],t=0;t<arguments.length;t++){var a=arguments[t];if(a){var n=typeof a;if("string"===n||"number"===n)e.push(a);else if(Array.isArray(a)){if(a.length){var o=s.apply(null,a);o&&e.push(o)}}else if("object"===n){if(a.toString!==Object.prototype.toString&&!a.toString.toString().includes("[native code]")){e.push(a.toString());continue}for(var l in a)r.call(a,l)&&a[l]&&e.push(l)}}}return e.join(" ")}e.exports?(s.default=s,e.exports=s):void 0===(a=function(){return s}.apply(t,[]))||(e.exports=a)}()},3686:function(e,t,a){"use strict";a.d(t,{Z:function(){return P}});var r=a(7462),s=a(3366),n=a(4942),o=a(7294),l=a(5697),i=a.n(l),c=a(4184),d=a.n(c),u=a(3663),f=a(4317),p=["tag","baseClass","baseClassActive","className","cssModule","children","innerRef"];function m(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function b(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?m(Object(a),!0).forEach((function(t){(0,n.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):m(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var x=b(b({},f.Transition.propTypes),{},{children:i().oneOfType([i().arrayOf(i().node),i().node]),tag:u.iC,baseClass:i().string,baseClassActive:i().string,className:i().string,cssModule:i().object,innerRef:i().oneOfType([i().object,i().string,i().func])}),g=b(b({},f.Transition.defaultProps),{},{tag:"div",baseClass:"fade",baseClassActive:"show",timeout:u.wF.Fade,appear:!0,enter:!0,exit:!0,in:!0});function h(e){var t=e.tag,a=e.baseClass,n=e.baseClassActive,l=e.className,i=e.cssModule,c=e.children,m=e.innerRef,b=(0,s.Z)(e,p),x=(0,u.ei)(b,u.rb),g=(0,u.CE)(b,u.rb);return o.createElement(f.Transition,x,(function(e){var s="entered"===e,f=(0,u.mx)(d()(l,a,s&&n),i);return o.createElement(t,(0,r.Z)({className:f},g,{ref:m}),c)}))}h.propTypes=x,h.defaultProps=g;var v=h,y=["className","closeClassName","closeAriaLabel","cssModule","tag","color","isOpen","toggle","children","transition","fade","innerRef"];function j(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function N(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?j(Object(a),!0).forEach((function(t){(0,n.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):j(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var w={children:i().node,className:i().string,closeClassName:i().string,closeAriaLabel:i().string,cssModule:i().object,color:i().string,fade:i().bool,isOpen:i().bool,toggle:i().func,tag:u.iC,transition:i().shape(v.propTypes),innerRef:i().oneOfType([i().object,i().string,i().func])},C={color:"success",isOpen:!0,tag:"div",closeAriaLabel:"Close",fade:!0,transition:N(N({},v.defaultProps),{},{unmountOnExit:!0})};function O(e){var t=e.className,a=e.closeClassName,n=e.closeAriaLabel,l=e.cssModule,i=e.tag,c=e.color,f=e.isOpen,p=e.toggle,m=e.children,b=e.transition,x=e.fade,g=e.innerRef,h=(0,s.Z)(e,y),j=(0,u.mx)(d()(t,"alert","alert-"+c,{"alert-dismissible":p}),l),w=(0,u.mx)(d()("close",a),l),C=N(N(N({},v.defaultProps),b),{},{baseClass:x?b.baseClass:"",timeout:x?b.timeout:0});return o.createElement(v,(0,r.Z)({},h,C,{tag:i,className:j,in:f,role:"alert",innerRef:g}),p?o.createElement("button",{type:"button",className:w,"aria-label":n,onClick:p},o.createElement("span",{"aria-hidden":"true"},"\xd7")):null,m)}O.propTypes=w,O.defaultProps=C;var P=O},2473:function(e){"use strict";var t=function(){};e.exports=t}},function(e){e.O(0,[774,731,748,888,179],(function(){return t=1212,e(e.s=t);var t}));var t=e.O();_N_E=t}]);
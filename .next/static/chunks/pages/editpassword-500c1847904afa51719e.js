(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[756],{1351:function(e,t,r){"use strict";r.r(t);var a=r(5861),n=r(4942),o=r(7757),s=r.n(o),c=r(7294),i=r(2861),l=r(3686),d=r(5538),u=r(2669),w=r(7954),p=r(609),f=r(7975),h=r(3768),g=r.n(h),m=r(5893);function x(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function _(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?x(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}t.default=function(){var e=(0,c.useState)(!0),t=e[0],r=e[1],n=(0,c.useState)(""),o=n[0],h=n[1],x=(0,c.useState)("danger"),v=x[0],b=x[1],j=(0,c.useState)(""),P=j[0],N=j[1],k=(0,c.useState)({newPassword:"",confirmNewPassword:""}),y=k[0],O=k[1];function C(e){console.log(e),O(_(_({},y),e))}var Z=function(){var e=(0,a.Z)(s().mark((function e(){var t,r,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=localStorage.getItem("token"),r=localStorage.getItem("email"),console.log(t),console.log(r),e.prev=4,t){e.next=10;break}console.log("Not Authorize !"),window.location.replace("/login"),e.next=15;break;case 10:return e.next=12,i.Z.post("http://localhost:3005/usergame/get",{email:r},{headers:{Authorization:"Basic ".concat(t)}});case 12:a=e.sent,console.log(a.data.data),N(a.data.data.id);case 15:e.next=21;break;case 17:e.prev=17,e.t0=e.catch(4),console.log("Internal Server Error !"),window.location.replace("/login");case 21:case"end":return e.stop()}}),e,null,[[4,17]])})));return function(){return e.apply(this,arguments)}}();(0,c.useEffect)((function(){Z()}),[]);var E=function(){var e=(0,a.Z)(s().mark((function e(t){var a,n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=localStorage.getItem("token"),e.prev=2,e.next=5,i.Z.post("http://localhost:3005/usergame/update/password",{id:P,newPassword:y.newPassword,confirmNewPassword:y.confirmNewPassword},{headers:{Authorization:"Basic ".concat(a)}});case 5:n=e.sent,console.log(n.data.status),b("success"),h(n.data.status),r(!1),window.location.replace("/login"),e.next=18;break;case 13:e.prev=13,e.t0=e.catch(2),b("danger"),h(e.t0.response.data.message),r(!1);case 18:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(t){return e.apply(this,arguments)}}();return(0,m.jsxs)("div",{className:g().EditPasswordImage,children:[(0,m.jsx)("h1",{className:g().textH1,children:"Change Password"}),(0,m.jsx)("div",{className:g().imageContainer,children:(0,m.jsx)(l.Z,{color:v,hidden:t,children:o})}),(0,m.jsx)("div",{className:g().formContainer,children:(0,m.jsxs)(d.Z,{children:[(0,m.jsxs)(u.Z,{id:"formBasicEmail",children:[(0,m.jsx)(w.Z,{className:g().textLabel,children:"New Password"}),(0,m.jsx)(p.Z,{type:"password",value:y.newPassword,onChange:function(e){C({newPassword:e.target.value})}})]}),(0,m.jsxs)(u.Z,{id:"formBasicPassword",children:[(0,m.jsx)(w.Z,{className:g().textLabel,children:"Confirm New Password"}),(0,m.jsx)(p.Z,{type:"password",value:y.confirmNewPassword,onChange:function(e){C({confirmNewPassword:e.target.value})}})]}),(0,m.jsx)("br",{}),(0,m.jsx)(f.Z,{color:"primary",block:!0,style:{width:"100%"},onClick:E,children:"Update Password"}),(0,m.jsx)("br",{}),(0,m.jsx)("br",{}),(0,m.jsx)(f.Z,{color:"primary",block:!0,style:{width:"100%"},onClick:function(){window.location.replace("/editprofile")},children:"Back"})]})})]})}},9418:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/editpassword",function(){return r(1351)}])},3768:function(e){e.exports={EditPasswordImage:"editpassword_EditPasswordImage__1kJod",alertContainer:"editpassword_alertContainer__19vL5",formContainer:"editpassword_formContainer__2SvfQ",imageContainer:"editpassword_imageContainer__3YERX",textH1:"editpassword_textH1__3zJS9",textLabel:"editpassword_textLabel__39Ntu",textDescription:"editpassword_textDescription__35jxq"}}},function(e){e.O(0,[774,731,748,2,888,179],(function(){return t=9418,e(e.s=t);var t}));var t=e.O();_N_E=t}]);